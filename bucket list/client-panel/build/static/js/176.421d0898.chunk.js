"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[176],{87176:(e,a,s)=>{s.r(a),s.d(a,{default:()=>w});var t=s(47313),n=s(70178),r=s(9019),o=s(61113),i=s(24631),l=s(41727),m=s(47131),d=s(35898),c=s(24193),p=s(85281),u=(s(89535),s(33497),s(54539),s(67393)),h=s(79429),b=s(3463),x=s(66135),g=s(77425),y=s(91210),Z=s(77406),j=s(19860),_=s(5866),C=(s(93894),s(36287)),f=s(46417);const w=e=>{let{item:a,open:s,close:w}=e;const v=(0,j.Z)(),P=(0,x.I0)(),B=(0,t.useRef)(null),[q,k]=(0,t.useState)(!1),[z,I]=(0,t.useState)(null),[$,A]=(0,t.useState)(!1),[S,W]=t.useState(""),[L,T]=(0,t.useState)([]);(0,t.useEffect)((()=>{localStorage.getItem("adminClientProfile");P((0,g.WV)()),P((0,g.Vx)())}),[P]);const R=b.Ry().shape({username:b.Z_().required("Name is required").matches(/^[A-Za-z\s]+$/,"Name can only contain letters").test("no-multi-spaces",(0,f.jsx)(u.Z,{id:"Multiple consecutive spaces are not allowed, and spaces are not permitted at the beginning"}),(e=>e&&/^[^\s]+(\s[^\s]+)*$/.test(e))).min(2,"Name must be at least 2 characters").max(50,"Name must be at most 50 characters"),company_name:b.Z_().required("Company name is required").test("no-multi-spaces",(0,f.jsx)(u.Z,{id:"Multiple consecutive spaces are not allowed, and spaces are not permitted at the beginning"}),(e=>e&&/^[^\s]+(\s[^\s]+)*$/.test(e))).min(2,"Company name must be at least 2 characters").max(50,"Company name must be at most 50 characters"),address:b.Z_().required("Address is required").test("no-multi-spaces",(0,f.jsx)(u.Z,{id:"Multiple consecutive spaces are not allowed, and spaces are not permitted at the beginning"}),(e=>e&&/^[^\s]+(\s[^\s]+)*$/.test(e))).min(2,"Address must be at least 2 characters").max(250,"Address must be at most 250 characters"),password:b.Z_().required("Password is required").test("password-spaces","Password must contain at least one lowercase letter, one uppercase letter, one number, and one special character",(e=>!e||e&&/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]+$/.test(e))).min(8,"Password must be at least 8 characters").max(25,"Password must be at most 25 characters"),job_title:b.Z_().required("Job title is required").test("no-multi-spaces",(0,f.jsx)(u.Z,{id:"Multiple consecutive spaces are not allowed, and spaces are not permitted at the beginning"}),(e=>e&&/^[^\s]+(\s[^\s]+)*$/.test(e))).min(2,"Job title must be at least 2 characters").max(50,"Job title must be at most 50 characters"),city_zip:b.Z_().required("City is required").matches(/^[A-Za-z\s]+$/,"City can only contain  letters and spaces").test("no-multi-spaces",(0,f.jsx)(u.Z,{id:"Multiple consecutive spaces are not allowed, and spaces are not permitted at the beginning"}),(e=>e&&/^[^\s]+(\s[^\s]+)*$/.test(e))).min(2,"City must be at least 2 characters").max(50,"City must be at most 50 characters").trim().notOneOf([""],"City cannot be a blank string"),phone:b.Z_().required("Phone is required").matches(/^(?!0+$)([1-9][0-9]{4,14})$/,"Phone number must be 5 to 15 digits, cannot start with 0, and cannot be all 0s"),website:b.Z_().required("Website URL is required").matches(/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/,"Please enter a valid website URL").test("no-spaces","Website URL cannot contain spaces",(e=>e&&!/\s/.test(e))).trim().notOneOf([""],"Website URL cannot be a blank string"),email:b.Z_().email("Invalid email address").required("Email is required").max(254,"Email must be at most 254 characters"),company_information:b.Z_().required("Company information is required").test("no-multi-spaces",(0,f.jsx)(u.Z,{id:"Multiple consecutive spaces are not allowed, and spaces are not permitted at the beginning"}),(e=>e&&/^[^\s]+(\s[^\s]+)*$/.test(e))).min(2,"Company information must be at least 2 characters").max(250,"Compnay information must be at most 250 characters"),sales_person:b.Z_().required("Sales person is required").test("no-multi-spaces",(0,f.jsx)(u.Z,{id:"Multiple consecutive spaces are not allowed, and spaces are not permitted at the beginning"}),(e=>e&&/^[^\s]+(\s[^\s]+)*$/.test(e))).min(2,"Sales person must be at least 2 characters").max(50,"Sales person must be at most 50 characters"),category:b.Z_().required("Category is required").test("no-multi-spaces",(0,f.jsx)(u.Z,{id:"Multiple consecutive spaces are not allowed, and spaces are not permitted at the beginning"}),(e=>e&&/^[^\s]+(\s[^\s]+)*$/.test(e))).min(2,"Category must be at least 2 characters").max(50,"Category must be at most 50 characters")}),N=(0,h.TA)({enableReinitialize:!0,initialValues:{username:"",password:"",email:"",company_name:"",address:"",job_title:"",city_zip:"",phone:"",website:"",company_information:"",category:"",sales_person:"",image:null},onSubmit:async(e,a)=>{let{resetForm:s}=a;if(console.log(e),""!==S.trim())W("Please select a valid image file (PNG, JPEG)");else{k(!0);try{const a=new FormData;a.append("name",e.username),a.append("password",e.password),a.append("email",e.email),a.append("sales_person",e.sales_person),a.append("company_name",e.company_name),a.append("category",e.category),a.append("address",e.address),a.append("job_title",e.job_title),a.append("city_zip",e.city_zip),a.append("phone",e.phone),a.append("website",e.website),a.append("company_information",e.company_information),e.image&&a.append("image",e.image);const s=await P((0,g.zj)(a));!0===(null===s||void 0===s?void 0:s.success)?(k(!1),P((0,_.ss)({open:!0,message:null===s||void 0===s?void 0:s.message,variant:"alert",alert:{color:"success"},close:!1,anchorOrigin:{vertical:"top",horizontal:"right"}})),w(!1)):(k(!1),P((0,_.ss)({open:!0,message:null===s||void 0===s?void 0:s.message,variant:"alert",alert:{color:"error"},close:!1,anchorOrigin:{vertical:"top",horizontal:"right"}})))}catch(t){console.log(t),k(!1),P((0,_.ss)({open:!0,message:"Something went wrong. Please try again later.",variant:"alert",alert:{color:"error"},close:!1,anchorOrigin:{vertical:"top",horizontal:"right"}}))}}},validationSchema:R});return(0,t.useEffect)((()=>{N.setFieldValue("imageInputRef",B.current)}),[B]),(0,f.jsx)(n.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,f.jsx)(r.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",spacing:{xs:1.5,sm:2.5,md:3,lg:5},children:(0,f.jsxs)(r.ZP,{sx:{bgcolor:v.palette.mode===C.hY.DARK?"dark.dark":"background.default",margin:"auto",marginTop:"100px",width:"100%"},className:"boxShadaw",children:[(0,f.jsx)(r.ZP,{alignItems:"center",sx:{marginBottom:"15px"},children:(0,f.jsx)(r.ZP,{item:!0,xs:12,textAlign:"center",className:"headingshadow",sx:{marginBottom:"15px"},children:(0,f.jsx)(o.Z,{variant:"h1",children:"Help Center"})})}),(0,f.jsx)("form",{onSubmit:N.handleSubmit,children:(0,f.jsxs)(r.ZP,{container:!0,spacing:2,direction:"column",sx:{bgcolor:v.palette.mode===C.hY.DARK?"background.default":"grey.100",padding:"6%",borderRadius:"2%"},children:[(0,f.jsx)(r.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsx)(i.Z,{id:"username",name:"username",label:"Name",value:N.values.username,onChange:N.handleChange,onBlur:N.handleBlur,error:N.touched.username&&Boolean(N.errors.username),helperText:N.touched.username&&N.errors.username,fullWidth:!0,autoComplete:"given-name",InputLabelProps:{shrink:!0}})}),(0,f.jsx)(r.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsx)(i.Z,{id:"company_name",name:"company_name",label:(0,f.jsx)(u.Z,{id:"Company Name"}),value:N.values.company_name,onChange:N.handleChange,onBlur:N.handleBlur,error:N.touched.company_name&&Boolean(N.errors.company_name),helperText:N.touched.company_name&&N.errors.company_name,fullWidth:!0,autoComplete:"family-name",InputLabelProps:{shrink:!0}})}),(0,f.jsx)(r.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsx)(i.Z,{id:"address",name:"address",label:(0,f.jsx)(u.Z,{id:"Address"}),value:N.values.address,onChange:N.handleChange,onBlur:N.handleBlur,error:N.touched.address&&Boolean(N.errors.address),helperText:N.touched.address&&N.errors.address,fullWidth:!0,autoComplete:"family-name",InputLabelProps:{shrink:!0},multiline:!0,rows:4})}),(0,f.jsx)(r.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsx)(i.Z,{id:"job_title",name:"job_title",label:(0,f.jsx)(u.Z,{id:"Job Title"}),value:N.values.job_title,onChange:N.handleChange,onBlur:N.handleBlur,error:N.touched.job_title&&Boolean(N.errors.job_title),helperText:N.touched.job_title&&N.errors.job_title,fullWidth:!0,autoComplete:"family-name",InputLabelProps:{shrink:!0}})}),(0,f.jsx)(r.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsx)(i.Z,{id:"city_zip",name:"city_zip",label:(0,f.jsx)(u.Z,{id:"City"}),value:N.values.city_zip,onChange:N.handleChange,onBlur:N.handleBlur,error:N.touched.city_zip&&Boolean(N.errors.city_zip),helperText:N.touched.city_zip&&N.errors.city_zip,fullWidth:!0,autoComplete:"family-name",InputLabelProps:{shrink:!0}})}),(0,f.jsx)(r.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsx)(i.Z,{id:"phone",name:"phone",label:(0,f.jsx)(u.Z,{id:"Phone"}),value:N.values.phone,onChange:N.handleChange,onBlur:N.handleBlur,error:N.touched.phone&&Boolean(N.errors.phone),helperText:N.touched.phone&&N.errors.phone,fullWidth:!0,autoComplete:"family-name",InputLabelProps:{shrink:!0}})}),(0,f.jsx)(r.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsx)(i.Z,{id:"email",name:"email",label:(0,f.jsx)(u.Z,{id:"Email"}),value:N.values.email,onChange:N.handleChange,onBlur:N.handleBlur,error:N.touched.email&&Boolean(N.errors.email),helperText:N.touched.email&&N.errors.email,fullWidth:!0,autoComplete:"family-name",InputLabelProps:{shrink:!0}})}),(0,f.jsx)(r.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsx)(i.Z,{id:"password",name:"password",type:$?"text":"password",label:(0,f.jsx)(u.Z,{id:"Password"}),value:N.values.password,onChange:N.handleChange,onBlur:N.handleBlur,error:N.touched.password&&Boolean(N.errors.password),helperText:N.touched.password&&N.errors.password,fullWidth:!0,autoComplete:"family-name",InputLabelProps:{shrink:!0},InputProps:{endAdornment:(0,f.jsx)(l.Z,{position:"end",children:(0,f.jsx)(m.Z,{"aria-label":"toggle password visibility",onClick:()=>{A((e=>!e))},edge:"end",children:$?(0,f.jsx)(y.Z,{}):(0,f.jsx)(Z.Z,{})})})}})}),(0,f.jsx)(r.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsx)(i.Z,{id:"website",name:"website",label:(0,f.jsx)(u.Z,{id:"Website"}),value:N.values.website,onChange:N.handleChange,onBlur:N.handleBlur,error:N.touched.website&&Boolean(N.errors.website),helperText:N.touched.website&&N.errors.website,fullWidth:!0,autoComplete:"family-name",InputLabelProps:{shrink:!0}})}),(0,f.jsx)(r.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsx)(i.Z,{id:"company_information",name:"company_information",label:(0,f.jsx)(u.Z,{id:"Company Information"}),value:N.values.company_information,onChange:N.handleChange,onBlur:N.handleBlur,error:N.touched.company_information&&Boolean(N.errors.company_information),helperText:N.touched.company_information&&N.errors.company_information,fullWidth:!0,autoComplete:"family-name",InputLabelProps:{shrink:!0},multiline:!0,rows:4})}),(0,f.jsxs)(d.Z,{direction:"row",spacing:2,justifyContent:"flex-end",style:{marginRight:"28px",marginTop:"23px"},children:[(0,f.jsx)(c.Z,{onClick:()=>w(!1),color:"primary",children:"Cancel"}),(0,f.jsx)(c.Z,{variant:"contained",component:"span",color:"secondary",sx:{margin:"2px"},type:"submit",disabled:q,startIcon:q&&(0,f.jsx)(p.Z,{size:20}),children:q?"Adding...":"Add Client"})]})]})})]})})})}}}]);