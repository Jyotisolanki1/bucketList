"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[947],{24947:(e,r,t)=>{t.r(r),t.d(r,{default:()=>le});var s=t(47313),a=t(93405),i=t(9019),o=t(35898),n=t(49914),l=t(41727),c=t(1550),d=t(15103),h=t(88797),u=t(51405),m=t(61689),x=t(63366),p=t(87462),g=t(83061),v=t(21921),Z=t(35272),b=t(91615),j=t(77342),y=t(77430),w=t(32298);function f(e){return(0,w.Z)("MuiFab",e)}const C=(0,y.Z)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var S=t(17592),k=t(46417);const z=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],P=(0,S.ZP)(Z.Z,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,S.FO)(e)||"classes"===e,overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r["size".concat((0,b.Z)(t.size))],"inherit"===t.color&&r.colorInherit,r[(0,b.Z)(t.size)],r[t.color]]}})((e=>{let{theme:r,ownerState:t}=e;var s,a;return(0,p.Z)({},r.typography.button,{minHeight:36,transition:r.transitions.create(["background-color","box-shadow","border-color"],{duration:r.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(r.vars||r).zIndex.fab,boxShadow:(r.vars||r).shadows[6],"&:active":{boxShadow:(r.vars||r).shadows[12]},color:r.vars?r.vars.palette.text.primary:null==(s=(a=r.palette).getContrastText)?void 0:s.call(a,r.palette.grey[300]),backgroundColor:(r.vars||r).palette.grey[300],"&:hover":{backgroundColor:(r.vars||r).palette.grey.A100,"@media (hover: none)":{backgroundColor:(r.vars||r).palette.grey[300]},textDecoration:"none"},["&.".concat(C.focusVisible)]:{boxShadow:(r.vars||r).shadows[6]}},"small"===t.size&&{width:40,height:40},"medium"===t.size&&{width:48,height:48},"extended"===t.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===t.variant&&"small"===t.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===t.variant&&"medium"===t.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===t.color&&{color:"inherit"})}),(e=>{let{theme:r,ownerState:t}=e;return(0,p.Z)({},"inherit"!==t.color&&"default"!==t.color&&null!=(r.vars||r).palette[t.color]&&{color:(r.vars||r).palette[t.color].contrastText,backgroundColor:(r.vars||r).palette[t.color].main,"&:hover":{backgroundColor:(r.vars||r).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(r.vars||r).palette[t.color].main}}})}),(e=>{let{theme:r}=e;return{["&.".concat(C.disabled)]:{color:(r.vars||r).palette.action.disabled,boxShadow:(r.vars||r).shadows[0],backgroundColor:(r.vars||r).palette.action.disabledBackground}}})),R=s.forwardRef((function(e,r){const t=(0,j.Z)({props:e,name:"MuiFab"}),{children:s,className:a,color:i="default",component:o="button",disabled:n=!1,disableFocusRipple:l=!1,focusVisibleClassName:c,size:d="large",variant:h="circular"}=t,u=(0,x.Z)(t,z),m=(0,p.Z)({},t,{color:i,component:o,disabled:n,disableFocusRipple:l,size:d,variant:h}),Z=(e=>{const{color:r,variant:t,classes:s,size:a}=e,i={root:["root",t,"size".concat((0,b.Z)(a)),"inherit"===r?"colorInherit":r]},o=(0,v.Z)(i,f,s);return(0,p.Z)({},s,o)})(m);return(0,k.jsx)(P,(0,p.Z)({className:(0,g.Z)(Z.root,a),component:o,disabled:n,focusRipple:!l,focusVisibleClassName:(0,g.Z)(Z.focusVisible,c),ownerState:m,ref:r},u,{classes:Z,children:s}))}));var B=t(51629),F=t(66835),A=t(23477),W=t(24076),N=t(67478),V=t(57861),D=t(74312),T=t(83033),q=t(50301),I=t(66149),M=t(33604),O=t(47131),_=t(96467),H=t(9506),E=t(61113),L=t(24631),$=t(15480),U=t(24193),G=t(85281),K=t(79429),J=t(3463),Q=t(11198),X=t(58864),Y=t(5866),ee=t(61045);const re=s.forwardRef(((e,r)=>(0,k.jsx)(q.Z,{direction:"down",ref:r,...e}))),te=e=>{let{open:r,close:t}=e;const[a,n]=(0,s.useState)(!1),l=((0,s.useRef)(null),(0,ee.I0)()),[m,x]=(0,s.useState)(!1),[p]=(0,s.useState)(""),[g,v]=(0,s.useState)(!1),[Z,b]=s.useState("select"),{services:j}=(0,ee.v9)((e=>e.service)),y=J.Ry({name:J.Z_().required("Service name is required").test("no-multi-spaces","Use only alphabets with single spaces between words. No spaces at the start or end",(e=>e&&/^[a-zA-Z]+(?: [a-zA-Z]+)*$/.test(e))).min(2,"Service name must be at least 2 characters").max(50,"Service name must be at most 50 characters"),description:J.Z_().required("Description is required").test("no-multi-spaces","Use only alphabets with single spaces between words. No spaces at the start or end",(e=>e&&/^[a-zA-Z]+(?: [a-zA-Z]+)*$/.test(e))).min(2,"Description must be at least 2 characters").max(50,"Description must be at most 50 characters"),price:J.Rx().typeError("Price must be a number").required("Price is required").positive("Price must be a positive number").integer("Price must be an integer"),category:J.Z_().required("Category is required")});s.useEffect((()=>{l((0,X.to)())}),[l]);const w=(0,K.TA)({initialValues:{name:"",description:"",price:"",category:""},validationSchema:y,onSubmit:async(e,r)=>{let{resetForm:s}=r;v(!0);try{const r=await l((0,X.G8)(e));!0===(null===r||void 0===r?void 0:r.success)?(v(!1),s(),l((0,Y.ss)({open:!0,message:r.message,variant:"alert",alert:{color:"success"},close:!1,anchorOrigin:{vertical:"top",horizontal:"right"}})),t(!1)):(v(!1),l((0,Y.ss)({open:!0,message:null===r||void 0===r?void 0:r.message,variant:"alert",alert:{color:"error"},close:!1,anchorOrigin:{vertical:"top",horizontal:"right"}})))}catch(a){console.log(a),v(!1),l((0,Y.ss)({open:!0,message:"Something went wrong. Please try again letar.",variant:"alert",alert:{color:"error"},close:!1,anchorOrigin:{vertical:"top",horizontal:"right"}}))}},validateOnChange:!0,validateOnBlur:!0});return(0,k.jsx)(I.Z,{open:r,TransitionComponent:re,keepMounted:!0,fullWidth:"true",maxWidth:"md","aria-describedby":"alert-dialog-slide-description",children:(0,k.jsxs)("form",{onSubmit:w.handleSubmit,id:"validation-forms",children:[(0,k.jsx)(M.Z,{children:(0,k.jsxs)(i.ZP,{container:!0,spacing:3,children:[(0,k.jsx)(i.ZP,{item:!0,xs:6,children:"Add Bucket"}),(0,k.jsx)(i.ZP,{item:!0,xs:6,children:(0,k.jsx)(O.Z,{color:"inherit",onClick:()=>{t(!1)},"aria-label":"close",sx:{position:"absolute",right:8,top:8},children:(0,k.jsx)(Q.Z,{})})})]})}),(0,k.jsxs)(_.Z,{children:[(0,k.jsx)(i.ZP,{container:!0,spacing:2,sx:{padding:2},children:(0,k.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,k.jsxs)(H.Z,{sx:{padding:2,backgroundColor:"white",borderRadius:1,boxShadow:"0 0 10px rgba(0,0,0,0.1)"},children:[(0,k.jsx)(E.Z,{variant:"h5",sx:{marginBottom:2},children:"Bucket Details"}),(0,k.jsx)("form",{onSubmit:w.handleSubmit,children:(0,k.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,k.jsx)(i.ZP,{item:!0,xs:12,children:(0,k.jsx)(L.Z,{label:"Bucket name",name:"name",value:w.values.name,onChange:w.handleChange,error:w.touched.name&&Boolean(w.errors.name),helperText:w.touched.name&&w.errors.name,fullWidth:!0})}),(0,k.jsx)(i.ZP,{item:!0,xs:12,children:(0,k.jsxs)(c.Z,{fullWidth:!0,children:[(0,k.jsx)(d.Z,{id:"category-label",children:"Category"}),(0,k.jsxs)(h.Z,{id:"demo-simple-select",label:"Category",name:"category",value:w.values.category||"select",onChange:e=>{const{value:r}=e.target;w.setFieldValue("category",r)},sx:{width:"100%"},children:[(0,k.jsx)(u.Z,{value:"select",disabled:!0,children:"Please select category"}),j&&j.map(((e,r)=>(0,k.jsx)(u.Z,{value:e._id,children:e.name},r)))]}),w.touched.category&&w.errors.category&&(0,k.jsx)($.Z,{error:!0,children:w.errors.category})]})}),(0,k.jsx)(i.ZP,{item:!0,xs:12,children:(0,k.jsx)(L.Z,{label:"Description",name:"description",value:w.values.description,onChange:w.handleChange,error:w.touched.description&&Boolean(w.errors.description),helperText:w.touched.description&&w.errors.description,fullWidth:!0})}),(0,k.jsx)(i.ZP,{item:!0,xs:12,children:(0,k.jsx)(L.Z,{label:"Price",name:"price",value:w.values.price,onChange:w.handleChange,onKeyDown:e=>{"+"!==e.key&&"."!==e.key&&"-"!==e.key&&"e"!==e.key||e.preventDefault()},error:w.touched.price&&Boolean(w.errors.price),helperText:w.touched.price&&w.errors.price,fullWidth:!0})})]})})]})})}),(0,k.jsx)(i.ZP,{item:!0,xs:12,children:(0,k.jsx)(o.Z,{direction:"row",justifyContent:"center",children:(0,k.jsx)(U.Z,{disabled:g,variant:"contained",sx:{my:3,ml:1},type:"submit",children:g?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(G.Z,{color:"primary"}),"\xa0Loading ..."]}):"Add Bucket"})})})]})]})})};var se=t(58467),ae=t(33497),ie=t(12401),oe=t(45085),ne=t(1834);const le=()=>{const e=(0,ee.I0)(),[r,t]=s.useState(!1),[x,p]=s.useState(1),[g,v]=s.useState(10),[Z,b]=s.useState(!0),[j,y]=s.useState(""),[w,f]=s.useState("asc"),[C,S]=s.useState(""),[z,P]=s.useState("select"),[q,I]=s.useState(),[M,O]=s.useState(!1),{services:_,buckets:H,loading:E,totalPages:L}=(0,ee.v9)((e=>e.service));console.log(L);"".concat("http://52.22.241.165:10037");s.useEffect((()=>{e((0,X.to)()),e((0,X.kc)(C,x,g,z))}),[e,r,C,x,g,M,z]);(0,se.s0)();const $=e=>{f(j===e&&"asc"===w?"desc":"asc"),y(e)};return(0,k.jsxs)(ae.Z,{title:"List of buckets",content:!1,children:[(0,k.jsx)(a.Z,{children:(0,k.jsx)(i.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",spacing:3,children:(0,k.jsx)(i.ZP,{item:!0,xs:12,sm:12,children:(0,k.jsxs)(o.Z,{direction:"row",spacing:2,children:[(0,k.jsx)(n.Z,{id:"input-search-list-style1",placeholder:"Search By Name",startAdornment:(0,k.jsx)(l.Z,{position:"start",children:(0,k.jsx)(ne.jVj,{stroke:1.5,size:"16px"})}),size:"large",defaultValue:C,onChange:e=>{(e.target.value.trim().length>2||0===e.target.value.trim().length)&&(S(e.target.value.trim()),p(1),v(10))},fullWidth:!0}),(0,k.jsxs)(c.Z,{fullWidth:!0,children:[(0,k.jsx)(d.Z,{id:"category-label",children:"Category"}),(0,k.jsxs)(h.Z,{id:"demo-simple-select",label:"Category",onChange:e=>{(e.target.value.trim().length>2||0===e.target.value.trim().length)&&("select"===e.target.value?P(""):P(e.target.value),I(e.target.value),p(1),v(10))},name:"category",value:q||"select",sx:{width:"100%"},children:[(0,k.jsx)(u.Z,{value:"select",children:"Please select category"}),_&&_.map(((e,r)=>(0,k.jsx)(u.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},r)))]})]}),(0,k.jsx)(i.ZP,{item:!0,xs:12,sm:6,sx:{textAlign:"right"},children:(0,k.jsx)(m.Z,{title:"Add Bucket",children:(0,k.jsx)(R,{color:"primary",size:"small",sx:{boxShadow:"none",ml:1,width:32,height:32,minHeight:32},children:(0,k.jsx)(T.Z,{fontSize:"small",onClick:()=>{O(!0)}})})})})]})})})}),(0,k.jsx)(B.Z,{children:(0,k.jsxs)(F.Z,{children:[(0,k.jsx)(A.Z,{children:(0,k.jsxs)(W.Z,{children:[(0,k.jsx)(N.Z,{children:"S.no."}),(0,k.jsx)(N.Z,{onClick:()=>$("firstname"),sx:{cursor:"pointer"},children:"Name"}),(0,k.jsx)(N.Z,{onClick:()=>$("bussiness_name"),sx:{cursor:"pointer"},children:"Category"}),(0,k.jsx)(N.Z,{onClick:()=>$("categoryData[0].name"),sx:{cursor:"pointer"},children:"Price"})]})}),(0,k.jsxs)(V.Z,{children:[E&&(0,k.jsx)(oe.Z,{count:4}),!E&&(null===H||void 0===H?void 0:H.length)>0&&H.map(((e,r)=>{var t;return(0,k.jsxs)(W.Z,{hover:!0,children:[(0,k.jsx)(N.Z,{sx:{pl:3},children:r+1+(x*g-g)}),(0,k.jsx)(N.Z,{children:null===e||void 0===e?void 0:e.name}),(0,k.jsx)(N.Z,{children:null===e||void 0===e||null===(t=e.category)||void 0===t?void 0:t.name}),(0,k.jsxs)(N.Z,{children:["$ ",null===e||void 0===e?void 0:e.price]})]},r)})),!E&&!((null===H||void 0===H?void 0:H.length)>0)&&(0,k.jsx)(W.Z,{children:(0,k.jsx)(N.Z,{colSpan:5,children:"Bucket Not Found"})})]})]})}),(0,k.jsx)(i.ZP,{item:!0,xs:12,sx:{p:3},children:(0,k.jsx)(i.ZP,{container:!0,justifyContent:"space-between",spacing:ie.dv,children:(0,k.jsx)(i.ZP,{item:!0,children:(0,k.jsx)(D.Z,{count:L,page:x,color:"primary",onChange:(e,r)=>{p(r)}})})})}),M&&(0,k.jsx)(te,{open:M,close:e=>(e=>{O(!1),!0===e&&b(!Z)})(e)})]})}},83033:(e,r,t)=>{var s=t(64836);r.Z=void 0;var a=s(t(45045)),i=t(46417),o=(0,a.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddTwoTone");r.Z=o}}]);