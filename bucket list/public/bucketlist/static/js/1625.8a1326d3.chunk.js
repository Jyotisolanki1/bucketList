"use strict";(self.webpackChunkbucketlist=self.webpackChunkbucketlist||[]).push([[1625],{45085:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(24076),i=n(67478),a=n(84488),r=(n(47313),n(46417));const s=function(e){let{count:t}=e;const n=Array.from({length:t}),s=Array.from({length:10});return(0,r.jsx)(r.Fragment,{children:s.map(((e,t)=>(0,r.jsx)(o.Z,{hover:!0,children:n.map(((e,t)=>(0,r.jsx)(i.Z,{children:(0,r.jsx)(a.Z,{variant:"text",width:70,height:50})},t)))},t)))})}},71625:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ge});var o=n(75192),i=n.n(o),a=n(47313),r=n(11198),s=n(19860),l=n(47131),c=n(93405),d=n(19536),h=n(9019),u=n(61113),p=n(24193),x=n(38390),g=n(33497),m=n(9289),Z=n(23477),f=n(24076),b=n(67478),j=n(44758),v=n(49914),y=n(41727),C=n(51629),S=n(66835),R=n(57861),w=n(48119),P=n(35272),z=n(91034),k=n(63366),M=n(87462),W=n(83061),T=n(21921),B=n(17551),N=n(91615),E=n(17592),I=n(77342),A=n(77430),U=n(32298);function O(e){return(0,U.Z)("MuiButtonGroup",e)}const V=(0,A.Z)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]);var _=n(1826),F=n(46417);const L=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],q=(0,E.ZP)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(V.grouped)]:t.grouped},{["& .".concat(V.grouped)]:t["grouped".concat((0,N.Z)(n.orientation))]},{["& .".concat(V.grouped)]:t["grouped".concat((0,N.Z)(n.variant))]},{["& .".concat(V.grouped)]:t["grouped".concat((0,N.Z)(n.variant)).concat((0,N.Z)(n.orientation))]},{["& .".concat(V.grouped)]:t["grouped".concat((0,N.Z)(n.variant)).concat((0,N.Z)(n.color))]},t.root,t[n.variant],!0===n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,"vertical"===n.orientation&&t.vertical]}})((e=>{let{theme:t,ownerState:n}=e;return(0,M.Z)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[2]},n.disableElevation&&{boxShadow:"none"},n.fullWidth&&{width:"100%"},"vertical"===n.orientation&&{flexDirection:"column"},{["& .".concat(V.grouped)]:(0,M.Z)({minWidth:40,"&:not(:first-of-type)":(0,M.Z)({},"horizontal"===n.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===n.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===n.variant&&"horizontal"===n.orientation&&{marginLeft:-1},"outlined"===n.variant&&"vertical"===n.orientation&&{marginTop:-1}),"&:not(:last-of-type)":(0,M.Z)({},"horizontal"===n.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===n.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===n.variant&&"horizontal"===n.orientation&&{borderRight:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===n.variant&&"vertical"===n.orientation&&{borderBottom:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===n.variant&&"inherit"!==n.color&&{borderColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):(0,B.Fq)(t.palette[n.color].main,.5)},"outlined"===n.variant&&"horizontal"===n.orientation&&{borderRightColor:"transparent"},"outlined"===n.variant&&"vertical"===n.orientation&&{borderBottomColor:"transparent"},"contained"===n.variant&&"horizontal"===n.orientation&&{borderRight:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(V.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}},"contained"===n.variant&&"vertical"===n.orientation&&{borderBottom:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(V.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}},"contained"===n.variant&&"inherit"!==n.color&&{borderColor:(t.vars||t).palette[n.color].dark},{"&:hover":(0,M.Z)({},"outlined"===n.variant&&"horizontal"===n.orientation&&{borderRightColor:"currentColor"},"outlined"===n.variant&&"vertical"===n.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":(0,M.Z)({},"contained"===n.variant&&{boxShadow:"none"})},"contained"===n.variant&&{boxShadow:"none"})})})),D=a.forwardRef((function(e,t){const n=(0,I.Z)({props:e,name:"MuiButtonGroup"}),{children:o,className:i,color:r="primary",component:s="div",disabled:l=!1,disableElevation:c=!1,disableFocusRipple:d=!1,disableRipple:h=!1,fullWidth:u=!1,orientation:p="horizontal",size:x="medium",variant:g="outlined"}=n,m=(0,k.Z)(n,L),Z=(0,M.Z)({},n,{color:r,component:s,disabled:l,disableElevation:c,disableFocusRipple:d,disableRipple:h,fullWidth:u,orientation:p,size:x,variant:g}),f=(e=>{const{classes:t,color:n,disabled:o,disableElevation:i,fullWidth:a,orientation:r,variant:s}=e,l={root:["root",s,"vertical"===r&&"vertical",a&&"fullWidth",i&&"disableElevation"],grouped:["grouped","grouped".concat((0,N.Z)(r)),"grouped".concat((0,N.Z)(s)),"grouped".concat((0,N.Z)(s)).concat((0,N.Z)(r)),"grouped".concat((0,N.Z)(s)).concat((0,N.Z)(n)),o&&"disabled"]};return(0,T.Z)(l,O,t)})(Z),b=a.useMemo((()=>({className:f.grouped,color:r,disabled:l,disableElevation:c,disableFocusRipple:d,disableRipple:h,fullWidth:u,size:x,variant:g})),[r,l,c,d,h,u,x,g,f.grouped]);return(0,F.jsx)(q,(0,M.Z)({as:s,role:"group",className:(0,W.Z)(f.root,i),ref:t,ownerState:Z},m,{children:(0,F.jsx)(_.Z.Provider,{value:b,children:o})}))}));var G=n(45085),H=n(1834),Y=n(59673),J=n(31059),K=n(55832),Q=n(24631),X=n(35898),$=n(66182),ee=n(5866),te=n(12401),ne=n(79429),oe=n(3463);const ie=oe.Ry({notification:oe.Z_().min(3,"Notification should be of minimum 3 characters length").required("Notification is required")}),ae=e=>{let{notificationId:t,notificationText:n,handleModalClose:o}=e;const i=(0,Y.I0)(),a=(0,ne.TA)({initialValues:{notification:n},validationSchema:ie,onSubmit:async e=>{const n={notification_id:t,notification:e.notification},a=await i((0,J.Vv)(n));o(),await i((0,J.Ae)()),!0===a.succeeded?await i((0,ee.ss)({open:!0,message:a.ResponseMessage,variant:"alert",alert:{color:"success"},close:!1})):await i((0,ee.ss)({open:!0,message:a.ResponseMessage,variant:"alert",alert:{color:"danger"},close:!1}))}});return(0,F.jsx)("form",{onSubmit:a.handleSubmit,children:(0,F.jsxs)(h.ZP,{container:!0,spacing:te.dv,children:[(0,F.jsx)(h.ZP,{item:!0,xs:12,children:(0,F.jsx)(Q.Z,{fullWidth:!0,id:"notification",name:"notification",label:"Notification Title",value:a.values.notification,onChange:a.handleChange,error:a.touched.notification&&Boolean(a.errors.notification),helperText:a.touched.notification&&a.errors.notification})}),(0,F.jsx)(h.ZP,{item:!0,xs:12,children:(0,F.jsx)(X.Z,{direction:"row",justifyContent:"center",children:(0,F.jsx)($.Z,{children:(0,F.jsx)(p.Z,{variant:"contained",color:"secondary",type:"submit",children:"Update"})})})})]})})};function re(){return Math.round(20*Math.random())-10}function se(){const e=50+re(),t=50+re();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}const le=e=>{let{numSelected:t}=e;return(0,F.jsx)(m.Z,{sx:{p:0,pl:1,pr:1,...t>0&&{color:e=>e.palette.secondary.main}},children:t>0&&(0,F.jsxs)(u.Z,{color:"inherit",variant:"h4",component:"div",children:[t," Users Selected"]})})};const ce=e=>{let{handleSelectedUsers:t,closeopen:n}=e;const o=(0,Y.I0)(),[i,s]=a.useState([]),[m,k]=a.useState(0),[M,W]=a.useState(10),[T,B]=a.useState(""),[N,E]=a.useState(null),[I,A]=a.useState(""),{usersList:U,loading:O}=(0,Y.v9)((e=>e.user1)),[V,_]=a.useState([]),[L]=a.useState(se),[q,Q]=a.useState(!1),[X,$]=a.useState(!1);(0,a.useEffect)((()=>{!1===n&&_([])}),[n]);const[te,ne]=a.useState(!1),oe=()=>{Q(!1)};a.useEffect((()=>{o((0,K.Zl)(T))}),[T,o,n]);const ie=()=>{$(!1),E("")};function re(e){let{selected:t}=e;return(0,F.jsx)(Z.Z,{children:(0,F.jsx)(f.Z,{children:(0,F.jsx)(b.Z,{padding:"none",colSpan:5,children:(0,F.jsx)(le,{numSelected:t.length})})})})}return a.useEffect((()=>{s(U)}),[U]),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(g.Z,{title:(0,F.jsxs)(h.ZP,{container:!0,justifyContent:"space-between",children:[(0,F.jsxs)(h.ZP,{item:!0,children:[(0,F.jsx)(j.Z,{color:"primary",indeterminate:V.length>0&&V.length<i.length,checked:i.length>0&&V.length===i.length,onChange:e=>{if(e.target.checked){const e=i.map((e=>e._id));return _(e),t(e),!1}return _([]),t([]),!0},style:{marginLeft:"-20px"}}),(0,F.jsx)("span",{children:"Select All"})]}),(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(v.Z,{id:"input-search-list-style1",placeholder:"Search",startAdornment:(0,F.jsx)(y.Z,{position:"start",children:(0,F.jsx)(H.jVj,{stroke:1.5,size:"16px"})}),size:"small",onChange:e=>{(e.target.value.trim().length>2||0===e.target.value.trim().length)&&B(e.target.value.trim())}})})]}),content:!1,children:(0,F.jsx)(h.ZP,{container:!0,children:O?(0,F.jsxs)(g.Z,{children:[(0,F.jsxs)(R.Z,{children:[(0,F.jsx)(b.Z,{children:(0,F.jsx)(G.Z,{count:1})}),(0,F.jsx)(b.Z,{children:(0,F.jsxs)(h.ZP,{container:!0,spacing:2,alignItems:"center",sx:{flexWrap:"nowrap"},children:[(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(G.Z,{count:1})}),(0,F.jsx)(h.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,F.jsx)(G.Z,{count:1})}),(0,F.jsx)(h.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,F.jsx)(G.Z,{count:1})})]})})]})," "]}):(0,F.jsx)(h.ZP,{item:!0,xs:12,children:i.length?(0,F.jsx)(g.Z,{content:!1,children:(0,F.jsx)(C.Z,{children:(0,F.jsxs)(S.Z,{"aria-labelledby":"tableTitle",sx:{minWidth:320,"& td":{whiteSpace:"nowrap",px:.75}},children:[V.length>0&&(0,F.jsx)(re,{selected:V}),(0,F.jsx)(R.Z,{children:i.map((e=>(0,F.jsxs)(f.Z,{hover:!0,sx:{bgcolor:"","& td:last-of-type>div":{position:"absolute",top:"50%",right:5,transform:"translateY(-50%)",display:"none",boxShadow:"0px 1px 4px rgba(0, 0, 0, 0.1)",borderRadius:"12px",py:1,px:1.75,"& button + button":{ml:.625}},"&:hover":{"& td:last-of-type>div":{display:"block"}}},tabIndex:-1,children:[(0,F.jsx)(b.Z,{children:(0,F.jsx)(j.Z,{color:"primary",checked:-1!==V.indexOf(e._id),onChange:n=>((e,n)=>{const o=V.indexOf(n._id);let i=[];-1===o?i=i.concat(V,n._id):0===o?i=i.concat(V.slice(1)):o===V.length-1?i=i.concat(V.slice(0,-1)):o>0&&(i=i.concat(V.slice(0,o),V.slice(o+1))),_(i),t(i)})(0,e)})}),(0,F.jsx)(b.Z,{children:(0,F.jsxs)(h.ZP,{container:!0,spacing:2,alignItems:"center",sx:{flexWrap:"nowrap"},children:[(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(w.Z,{sx:{width:te?30:40,height:te?30:40},alt:e.firstname,src:"".concat("http://52.22.241.165:10037","/").concat(e.image)})}),(0,F.jsx)(h.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,F.jsx)(P.Z,{disableRipple:!0,children:(0,F.jsx)(u.Z,{align:"left",variant:e.isRead?"body2":"subtitle1",component:"div",children:e.name})})}),(0,F.jsx)(h.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,F.jsx)(P.Z,{disableRipple:!0,children:(0,F.jsx)(u.Z,{align:"left",variant:e.isRead?"body2":"subtitle1",component:"div",children:e.email})})})]})}),(0,F.jsx)(b.Z,{align:"center"})]},e._id)))})]})})}):(0,F.jsx)(g.Z,{children:(0,F.jsx)(u.Z,{variant:"h4",children:"User Not Found"})})})})}),(0,F.jsx)(z.Z,{rowsPerPageOptions:[10,20,30],component:"div",count:i.length,rowsPerPage:M,page:m,onPageChange:(e,t)=>{k(t)},onRowsPerPageChange:e=>{W(parseInt(null===e||void 0===e?void 0:e.target.value,10)),k(0)}}),(0,F.jsx)(g.Z,{children:(0,F.jsx)(x.Z,{open:q,onClose:oe,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:(0,F.jsxs)(g.Z,{style:L,sx:{position:"absolute",width:{xs:280,lg:450},top:"50%",left:"50%",transform:"translate(-50%, -50%)"},title:"Update Notification",content:!1,secondary:(0,F.jsx)(l.Z,{onClick:oe,size:"large",children:(0,F.jsx)(r.Z,{fontSize:"small"})}),children:[(0,F.jsx)(c.Z,{children:(0,F.jsx)(ae,{notificationId:N,notificationText:I,handleModalClose:oe})}),(0,F.jsx)(d.Z,{})]})})}),(0,F.jsx)(x.Z,{open:X,onClose:ie,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:(0,F.jsxs)(g.Z,{style:L,sx:{position:"absolute",width:{xs:280,lg:450},top:"50%",left:"50%",transform:"translate(-50%, -50%)"},title:"Delete Notification",content:!1,secondary:(0,F.jsx)(l.Z,{onClick:ie,size:"large",children:(0,F.jsx)(r.Z,{fontSize:"small"})}),children:[(0,F.jsxs)(c.Z,{children:[(0,F.jsxs)(u.Z,{variant:"body1",sx:{fontWeight:"500",marginBottom:2,textAlign:"center"},children:["Are you sure you want to delete this notification?"," "]}),(0,F.jsxs)(D,{disableElevation:!0,variant:"contained","aria-label":"Disabled button group",sx:{display:"flex",justifyContent:"center"},children:[(0,F.jsx)(p.Z,{onClick:()=>{ie()},sx:{margin:1},children:"Close"}),(0,F.jsx)(p.Z,{onClick:()=>{ie(),(async()=>{const e={notification_id:N};console.log(e);const t=await o((0,J.vo)(e));!0===t.succeeded?await o((0,ee.ss)({open:!0,message:t.ResponseMessage,variant:"alert",alert:{color:"success"},close:!1})):await o((0,ee.ss)({open:!0,message:t.ResponseMessage,variant:"alert",alert:{color:"danger"},close:!1})),E(""),await o((0,J.Ae)())})()},sx:{margin:1},color:"error",children:"Delete"})]})]}),(0,F.jsx)(d.Z,{})]})})]})},de=oe.Ry({notification:oe.Z_().min(3,"Notification should be of minimum 3 characters length").required("Notification is required")}),he=e=>{let{handleClose:t,selectedUsers:n}=e;const o=(0,Y.I0)(),i=(0,ne.TA)({initialValues:{notification:"",userids:n},validationSchema:de,onSubmit:async e=>{const n=await o((0,K.Vp)(e));!0===n.succeeded?await o((0,ee.ss)({open:!0,message:n.ResponseMessage,variant:"alert",alert:{color:"success"},close:!1})):await o((0,ee.ss)({open:!0,message:n.ResponseMessage,variant:"alert",alert:{color:"error"},close:!1})),t()}});return(0,F.jsx)("form",{onSubmit:i.handleSubmit,children:(0,F.jsxs)(h.ZP,{container:!0,spacing:te.dv,children:[(0,F.jsx)(h.ZP,{item:!0,xs:12,children:(0,F.jsx)(Q.Z,{fullWidth:!0,id:"notification",name:"notification",label:"Notification Title",value:i.values.notification,onChange:i.handleChange,error:i.touched.notification&&Boolean(i.errors.notification),helperText:i.touched.notification&&i.errors.notification})}),(0,F.jsx)(h.ZP,{item:!0,xs:12,children:(0,F.jsx)(X.Z,{direction:"row",justifyContent:"center",children:(0,F.jsx)($.Z,{children:(0,F.jsx)(p.Z,{variant:"contained",color:"secondary",type:"submit",children:"Add"})})})})]})})};function ue(){return Math.round(20*Math.random())-10}function pe(){const e=50+ue(),t=50+ue();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}const xe=a.forwardRef(((e,t)=>{let{modalStyle:n,handleClose:o,selectedUsers:i}=e;return(0,F.jsx)("div",{ref:t,tabIndex:-1,children:(0,F.jsxs)(g.Z,{style:n,sx:{position:"absolute",width:{xs:280,lg:450},top:"50%",left:"50%",transform:"translate(-50%, -50%)"},title:"Send Notification",content:!1,secondary:(0,F.jsx)(l.Z,{onClick:o,size:"large",children:(0,F.jsx)(r.Z,{fontSize:"small"})}),children:[(0,F.jsx)(c.Z,{children:(0,F.jsx)(he,{handleClose:o,selectedUsers:i})}),(0,F.jsx)(d.Z,{})]})})}));xe.propTypes={modalStyle:i().object,handleClose:i().func};const ge=()=>{const e=(0,s.Z)(),[t]=a.useState(pe),[n,o]=a.useState(!1),[i,r]=(0,a.useState)([]),l=(0,Y.I0)(),c=()=>{o(!1)};return(0,F.jsxs)(g.Z,{title:(0,F.jsxs)(h.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:te.dv,children:[(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(u.Z,{variant:"h3",children:"Notifications"})}),(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(h.ZP,{container:!0,spacing:1,sx:{justifyContent:"flex-end",[e.breakpoints.down("lg")]:{justifyContent:"flex-start"}},children:(0,F.jsx)(h.ZP,{item:!0,children:(0,F.jsx)(p.Z,{variant:"contained",onClick:async()=>0===i.length?(console.log("testting"),l((0,ee.ss)({open:!0,message:"Please select at least one user",variant:"alert",close:!1,alert:{color:"error"},anchorOrigin:{vertical:"top",horizontal:"right"}})),!1):(o(!0),!0),children:"Send Notification"})})})})]}),content:!1,children:[(0,F.jsx)(ce,{handleSelectedUsers:e=>{r(e)},closeopen:n}),(0,F.jsx)(x.Z,{open:n,onClose:c,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:(0,F.jsx)(xe,{modalStyle:t,handleClose:c,selectedUsers:i})})]})}}}]);