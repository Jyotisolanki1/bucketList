"use strict";(self.webpackChunkbucketlist=self.webpackChunkbucketlist||[]).push([[6101],{96550:(e,t,n)=>{n.d(t,{Z:()=>k});var s=n(47313),i=n(50301),o=n(66149),l=n(33604),r=n(47131),a=n(96467),c=n(97762),d=n(9019),u=n(24631),h=n(85281),x=n(4117),m=n(35898),p=n(24193),j=n(79429),v=n(3463),g=n(18772),Z=n(11198),y=n(67393),b=(n(94230),n(59673)),f=n(5866),C=n(46417);const w=s.lazy((()=>n.e(16).then(n.t.bind(n,16,23)))),S=s.forwardRef(((e,t)=>(0,C.jsx)(i.Z,{direction:"down",ref:t,...e}))),k=e=>{let{open:t,close:n,item:i}=e;const k=(0,b.I0)(),[F,P]=(0,s.useState)(!1),z={type:null===i||void 0===i?void 0:i.type,content:null===i||void 0===i?void 0:i.content},T=v.Ry({content:v.Z_().required("Content is required").trim("Content cannot be blank").test("no-multi-spaces","No multiple consecutive spaces allowed",(e=>!!e&&/^[^\s]+(\s[^\s]+)*$/.test(e)))}),R=(0,j.TA)({enableReinitialize:!0,initialValues:z,validationSchema:T,onSubmit:async(e,t)=>{let{resetForm:s}=t;P(!0);try{const t={content:e.content,type:e.type},i=await k((0,g.Aj)(t));!0===(null===i||void 0===i?void 0:i.success)?(P(!1),s(),await k((0,f.ss)({open:!0,variant:"alert",alert:{color:"success"},message:null===i||void 0===i?void 0:i.message,close:!1,anchorOrigin:{vertical:"top",horizontal:"right"}})),n(!0)):(P(!1),k((0,f.ss)({open:!0,message:null===i||void 0===i?void 0:i.message,variant:"alert",alert:{color:"error"},close:!1,anchorOrigin:{vertical:"top",horizontal:"right"}})))}catch(i){P(!1),k((0,f.ss)({open:!0,message:"Something went wrong. Please try again letar.",variant:"alert",alert:{color:"error"},close:!1,anchorOrigin:{vertical:"top",horizontal:"right"}}))}}});return(0,C.jsx)(o.Z,{open:t,TransitionComponent:S,keepMounted:!0,fullWidth:!0,maxWidth:"md",onClose:n,"aria-describedby":"alert-dialog-slide-description",sx:{overflow:"hidden"},children:(0,C.jsxs)("form",{onSubmit:R.handleSubmit,id:"validation-forms",children:[(0,C.jsxs)(l.Z,{children:[(0,C.jsx)(y.Z,{id:null===i||void 0===i?void 0:i.type}),(0,C.jsx)(r.Z,{edge:"end",color:"inherit",onClick:n,"aria-label":"close",sx:{position:"absolute",right:29,top:8},children:(0,C.jsx)(Z.Z,{})})]}),(0,C.jsx)(a.Z,{children:(0,C.jsxs)(c.Z,{id:"alert-dialog-slide-description",children:[(0,C.jsx)(d.ZP,{container:!0,spacing:3,sx:{mt:1},children:(0,C.jsx)(d.ZP,{item:!0,xs:12,sm:12,children:(0,C.jsx)(u.Z,{id:"type",name:"type",label:"Name",value:R.values.type,onChange:R.handleChange,fullWidth:!0,autoComplete:"given-name",disabled:!0})})}),(0,C.jsx)(d.ZP,{container:!0,spacing:3,sx:{mt:1},children:(0,C.jsxs)(d.ZP,{item:!0,xs:12,sm:12,children:[(0,C.jsx)(s.Suspense,{fallback:(0,C.jsx)(h.Z,{}),children:(0,C.jsx)(w,{style:{backgroundColor:"white"},theme:"snow",value:R.values.content,onChange:e=>{""===e.replace(/<\/?[^>]+(>|$)/g,"").trim()?R.setFieldValue("content",""):R.setFieldValue("content",e)}})}),R.errors.content&&R.touched.content&&(0,C.jsx)("div",{style:{color:"red"},children:R.errors.content})]})})]})}),(0,C.jsx)(x.Z,{sx:{justifyContent:"center"},children:(0,C.jsx)(d.ZP,{item:!0,xs:12,children:(0,C.jsx)(m.Z,{direction:"row",justifyContent:"center",children:(0,C.jsx)(p.Z,{disabled:F,variant:"contained",sx:{my:3,ml:1},type:"submit",color:"secondary",children:F?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(h.Z,{color:"primary"}),"\xa0",(0,C.jsx)(y.Z,{id:"loading"})," ..."]}):(0,C.jsx)(y.Z,{id:"Update"})})})})})]})})}},6101:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var s=n(47313),i=n(73428),o=n(54641),l=n(47131),r=n(83993),a=n(61689),c=n(96467),d=n(18772),u=n(84488),h=n(59673),x=n(96550),m=n(46417);function p(){const[e,t]=s.useState(!1),[n,p]=s.useState(!1),[j,v]=s.useState(!0),[g,Z]=s.useState(!0),[y,b]=s.useState(!0),f=(0,h.I0)();return s.useEffect((()=>{(async()=>{const e=await f((0,d.yp)());if(!0===e.success){var t;const n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.find((e=>"Terms and Conditions"===e.type));n&&Z(n),b(!1)}})()}),[j]),(0,m.jsxs)(i.Z,{fullWidth:!0,style:{marginTop:"2%"},children:[y?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.Z,{children:(0,m.jsx)(u.Z,{})}),(0,m.jsx)(c.Z,{children:(0,m.jsx)(u.Z,{})})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.Z,{action:(0,m.jsx)(a.Z,{title:"Update ".concat(g.type),style:{marginRight:"5px"},children:(0,m.jsx)(l.Z,{color:"secondary",className:"custom-icon-button",children:(0,m.jsx)(r.Z,{onClick:()=>{t(!0)}})})},"1"),title:g.type}),(0,m.jsx)(c.Z,{dangerouslySetInnerHTML:{__html:g.content}})]}),e&&(0,m.jsx)(x.Z,{open:e,item:g,close:e=>(e=>{t(!1),!0===e&&v(!j)})(e)})]})}}}]);